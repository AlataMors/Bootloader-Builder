From 71144911b297dddbd191256629aec6d313183518 Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Tue, 6 Nov 2012 09:16:15 -0600
Subject: [PATCH] enable bootz support

Signed-off-by: Robert Nelson <robertcnelson@gmail.com>
---
 include/configs/am335x_evm.h       |    2 ++
 include/configs/am3517_crane.h     |    2 ++
 include/configs/igep00x0.h         |    2 ++
 include/configs/mx51evk.h          |    2 ++
 include/configs/mx53loco.h         |    2 ++
 include/configs/mx6qarm2.h         |    2 ++
 include/configs/mx6qsabre_common.h |    2 ++
 include/configs/mx6qsabrelite.h    |    2 ++
 include/configs/omap3_beagle.h     |    2 ++
 include/configs/omap4_common.h     |    2 ++
 include/configs/rpi_b.h            |    1 +
 11 files changed, 21 insertions(+)

diff --git a/include/configs/am335x_evm.h b/include/configs/am335x_evm.h
index b6e48f8..512ec9b 100644
--- a/include/configs/am335x_evm.h
+++ b/include/configs/am335x_evm.h
@@ -144,6 +144,8 @@
 #define CONFIG_DOS_PARTITION
 #define CONFIG_CMD_FAT
 #define CONFIG_CMD_EXT2
+#define CONFIG_CMD_BOOTZ	/* bootz zImage support		*/
+#define CONFIG_SUPPORT_RAW_INITRD	/* bootz raw initrd support */
 
 #define CONFIG_SPI
 #define CONFIG_OMAP3_SPI
diff --git a/include/configs/am3517_crane.h b/include/configs/am3517_crane.h
index 20a3df5..121c8e8 100644
--- a/include/configs/am3517_crane.h
+++ b/include/configs/am3517_crane.h
@@ -143,6 +143,8 @@
 
 #define CONFIG_CMD_I2C		/* I2C serial bus support	*/
 #define CONFIG_CMD_MMC		/* MMC support			*/
+#define CONFIG_CMD_BOOTZ	/* bootz zImage support		*/
+#define CONFIG_SUPPORT_RAW_INITRD	/* bootz raw initrd support */
 #define CONFIG_CMD_NAND		/* NAND support			*/
 #define CONFIG_CMD_DHCP
 #undef CONFIG_CMD_PING
diff --git a/include/configs/igep00x0.h b/include/configs/igep00x0.h
index c81ab76..6f38226 100644
--- a/include/configs/igep00x0.h
+++ b/include/configs/igep00x0.h
@@ -106,6 +106,8 @@
 #define CONFIG_CMD_FAT		/* FAT support			*/
 #define CONFIG_CMD_I2C		/* I2C serial bus support	*/
 #define CONFIG_CMD_MMC		/* MMC support			*/
+#define CONFIG_CMD_BOOTZ	/* bootz zImage support		*/
+#define CONFIG_SUPPORT_RAW_INITRD	/* bootz raw initrd support */
 #ifdef CONFIG_BOOT_ONENAND
 #define CONFIG_CMD_ONENAND	/* ONENAND support		*/
 #endif
diff --git a/include/configs/mx51evk.h b/include/configs/mx51evk.h
index 225d359..64b4bd6 100644
--- a/include/configs/mx51evk.h
+++ b/include/configs/mx51evk.h
@@ -89,6 +89,8 @@
 #define CONFIG_MMC
 
 #define CONFIG_CMD_MMC
+#define CONFIG_CMD_BOOTZ	/* bootz zImage support		*/
+#define CONFIG_SUPPORT_RAW_INITRD	/* bootz raw initrd support */
 #define CONFIG_GENERIC_MMC
 #define CONFIG_CMD_FAT
 #define CONFIG_DOS_PARTITION
diff --git a/include/configs/mx53loco.h b/include/configs/mx53loco.h
index a1b27ce..d044f7f 100644
--- a/include/configs/mx53loco.h
+++ b/include/configs/mx53loco.h
@@ -52,6 +52,8 @@
 
 #define CONFIG_MMC
 #define CONFIG_CMD_MMC
+#define CONFIG_CMD_BOOTZ	/* bootz zImage support		*/
+#define CONFIG_SUPPORT_RAW_INITRD	/* bootz raw initrd support */
 #define CONFIG_GENERIC_MMC
 #define CONFIG_CMD_FAT
 #define CONFIG_CMD_EXT2
diff --git a/include/configs/mx6qarm2.h b/include/configs/mx6qarm2.h
index 23562a8..307610f 100644
--- a/include/configs/mx6qarm2.h
+++ b/include/configs/mx6qarm2.h
@@ -49,6 +49,8 @@
 
 #define CONFIG_MMC
 #define CONFIG_CMD_MMC
+#define CONFIG_CMD_BOOTZ	/* bootz zImage support		*/
+#define CONFIG_SUPPORT_RAW_INITRD	/* bootz raw initrd support */
 #define CONFIG_GENERIC_MMC
 #define CONFIG_MMC_BOUNCE_BUFFER
 #define CONFIG_CMD_FAT
diff --git a/include/configs/mx6qsabre_common.h b/include/configs/mx6qsabre_common.h
index bfb9cd4..871c0cd 100644
--- a/include/configs/mx6qsabre_common.h
+++ b/include/configs/mx6qsabre_common.h
@@ -44,6 +44,8 @@
 
 #define CONFIG_MMC
 #define CONFIG_CMD_MMC
+#define CONFIG_CMD_BOOTZ	/* bootz zImage support		*/
+#define CONFIG_SUPPORT_RAW_INITRD	/* bootz raw initrd support */
 #define CONFIG_GENERIC_MMC
 #define CONFIG_MMC_BOUNCE_BUFFER
 #define CONFIG_CMD_EXT2
diff --git a/include/configs/mx6qsabrelite.h b/include/configs/mx6qsabrelite.h
index b56d7ca..eb47c6a 100644
--- a/include/configs/mx6qsabrelite.h
+++ b/include/configs/mx6qsabrelite.h
@@ -71,6 +71,8 @@
 
 #define CONFIG_MMC
 #define CONFIG_CMD_MMC
+#define CONFIG_CMD_BOOTZ	/* bootz zImage support		*/
+#define CONFIG_SUPPORT_RAW_INITRD	/* bootz raw initrd support */
 #define CONFIG_GENERIC_MMC
 #define CONFIG_MMC_BOUNCE_BUFFER
 #define CONFIG_CMD_EXT2
diff --git a/include/configs/omap3_beagle.h b/include/configs/omap3_beagle.h
index 7a3cc16..3d94d2c 100644
--- a/include/configs/omap3_beagle.h
+++ b/include/configs/omap3_beagle.h
@@ -151,6 +151,8 @@
 #define CONFIG_CMD_CACHE
 #define CONFIG_CMD_EXT2		/* EXT2 Support			*/
 #define CONFIG_CMD_FAT		/* FAT support			*/
+#define CONFIG_CMD_BOOTZ	/* bootz zImage support		*/
+#define CONFIG_SUPPORT_RAW_INITRD	/* bootz raw initrd support */
 #define CONFIG_CMD_JFFS2	/* JFFS2 Support		*/
 #define CONFIG_CMD_MTDPARTS	/* Enable MTD parts commands */
 #define CONFIG_MTD_DEVICE	/* needed for mtdparts commands */
diff --git a/include/configs/omap4_common.h b/include/configs/omap4_common.h
index a32369a..c42200a 100644
--- a/include/configs/omap4_common.h
+++ b/include/configs/omap4_common.h
@@ -128,6 +128,8 @@
 #define CONFIG_CMD_FAT		/* FAT support                  */
 #define CONFIG_CMD_I2C		/* I2C serial bus support	*/
 #define CONFIG_CMD_MMC		/* MMC support                  */
+#define CONFIG_CMD_BOOTZ	/* bootz zImage support		*/
+#define CONFIG_SUPPORT_RAW_INITRD	/* bootz raw initrd support */
 
 /* Disabled commands */
 #undef CONFIG_CMD_NET
diff --git a/include/configs/rpi_b.h b/include/configs/rpi_b.h
index cf62e45..2b8a641 100644
--- a/include/configs/rpi_b.h
+++ b/include/configs/rpi_b.h
@@ -87,6 +87,7 @@
 /* Commands */
 #include <config_cmd_default.h>
 #define CONFIG_CMD_BOOTZ
+#define CONFIG_SUPPORT_RAW_INITRD	/* bootz raw initrd support */
 #define CONFIG_CMD_GPIO
 /* Some things don't make sense on this HW or yet */
 #undef CONFIG_CMD_FPGA
-- 
1.7.10.4

